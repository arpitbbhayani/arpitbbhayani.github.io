<div class="ui hidden divider"></div>

<div itemscope="" itemtype="http://schema.org/BlogPosting">
    <article>
        <h1 itemprop="name headline" class="ui huge header center aligned">
            <b>Host your python package using github on PyPI</b>
        </h1>
        
        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
            <meta itemprop="url" content="http://i.imgur.com/vFzlsp5.png" />
            <img itemprop="image" class="ui centered large image" src="http://i.imgur.com/vFzlsp5.png" alt="Host your python package using github on PyPI" />
        </div>
        
        <div class="ui hidden section divider"></div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9220578038638789"
     data-ad-slot="2902722754"
     data-ad-format="auto"></ins>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="ui hidden section divider"></div>

        <div itemprop="articleBody">
            <p>PyPI is the official Python Packages Index. Once you publish it on PyPI then it will can downloaded via a simple command <code>pip install &lt;package&gt;</code>. Life becomes simpler with this one line installation.</p>

<h2 id="1-create-accounts">1: Create accounts</h2>
<p>In order to submit your package on PyPI you need to have few accounts on PyPI websites. These account will enable you to maintain your packages and will provide you with an interface to edit your package.</p>

<p>Create your account on following sites:</p>

<ul>
  <li><a href="http://pypi.python.org/pypi?%3Aaction=register_form">PyPI Live</a></li>
  <li><a href="http://testpypi.python.org/pypi?%3Aaction=register_form">PyPI Test</a></li>
</ul>

<h2 id="2-the-pypirc-file">2: The <code>.pypirc</code> file</h2>
<p>Now create a file in your home folder named <code>.pypirc</code>, which will be your configuration file that holds the authentication information of your PyPI accounts.</p>

<p>Create file <code>.pypirc</code> and put the contents shown below</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>vim ~/.pypirc</code></pre></figure>

<p><code>.pypirc</code> file contents</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span></span><span class="p">[</span><span class="n">distutils</span><span class="p">]</span>
<span class="n">index</span><span class="o">-</span><span class="n">servers</span> <span class="o">=</span>
  <span class="n">pypi</span>
  <span class="n">pypitest</span>

<span class="p">[</span><span class="n">pypi</span><span class="p">]</span>
<span class="nl">repository</span><span class="p">:</span> <span class="nl">https</span><span class="p">:</span><span class="c1">//pypi.python.org/pypi</span>
<span class="nl">username</span><span class="p">:</span> <span class="n">YOUR_USERNAME_HERE</span>
<span class="nl">password</span><span class="p">:</span> <span class="n">YOUR_PASSWORD_HERE</span>

<span class="p">[</span><span class="n">pypitest</span><span class="p">]</span>
<span class="nl">repository</span><span class="p">:</span> <span class="nl">https</span><span class="p">:</span><span class="c1">//testpypi.python.org/pypi</span>
<span class="nl">username</span><span class="p">:</span> <span class="n">YOUR_USERNAME_HERE</span>
<span class="nl">password</span><span class="p">:</span> <span class="n">YOUR_PASSWORD_HERE</span></code></pre></figure>

<p>You should replace <code>YOUR_USERNAME_HERE</code> and <code>YOUR_PASSWORD_HERE</code> with your username and password from PyPI sites that you just created.</p>

<h2 id="3-the-python-package-directory-structure">3: The Python Package directory structure</h2>
<ul>
  <li><code>source_dir</code> is a root directory that contains your python package</li>
  <li><code>my_python_package</code> is your main python package that you want to publish</li>
</ul>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span></span><span class="n">source_dir</span><span class="o">/</span>                 <span class="err">#</span> <span class="n">the</span> <span class="n">source</span> <span class="n">directory</span>
<span class="o">|--</span> <span class="n">my_python_package</span>       <span class="err">#</span> <span class="n">your</span> <span class="n">package</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">__init__</span><span class="p">.</span><span class="n">py</span>
<span class="o">|</span>   <span class="err">`</span><span class="o">--</span> <span class="n">FILES</span> <span class="p">....</span>          <span class="err">#</span> <span class="n">your</span> <span class="n">package</span> <span class="n">files</span>
<span class="o">|--</span> <span class="n">README</span><span class="p">.</span><span class="n">md</span>
<span class="o">|--</span> <span class="n">setup</span><span class="p">.</span><span class="n">cfg</span>
<span class="o">|--</span> <span class="n">setup</span><span class="p">.</span><span class="n">py</span></code></pre></figure>

<p>Setup your directory structure as shown above, with appropriate changes, and host it on <a href="http://github.com">github.com</a>.</p>

<h2 id="4-release-on-github-and-get-the-download-link">4: Release on github and get the download link</h2>
<p>This step involves releasing your package on github. This will create a download link of your complete source. In order to release your github project, you need to carry on following steps:</p>

<ol>
  <li>Go to your project homepage on <a href="http://github.com">github</a></li>
  <li>On top, you will see <em>Release link</em>. Click on it.</li>
  <li>Click on <em>Draft a new relase</em></li>
  <li>Fill in all the details
    <ul>
      <li><em>Tag version</em> should be the version number of your package release</li>
      <li><em>Release Title</em> can be anything you want.</li>
    </ul>
  </li>
  <li>Click <em>Publish release</em> at the bottom of the page</li>
  <li>Now under <em>Releases</em> you can view all of your releases.</li>
  <li>Copy the download link (tar.gz) and save it somewhere.</li>
</ol>

<h2 id="5-editing-files">5: Editing files</h2>
<p>Open the <em>setup.py</em> file and add following skeleton to it</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">from</span> <span class="nn">distutils.core</span> <span class="kn">import</span> <span class="n">setup</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;my_python_package&#39;</span><span class="p">,</span>
    <span class="n">packages</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;my_python_package&#39;</span><span class="p">],</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;version number&#39;</span><span class="p">,</span>  <span class="c1"># Ideally should be same as your github release tag varsion</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span>
    <span class="n">author</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">author_email</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;github package source url&#39;</span><span class="p">,</span>
    <span class="n">download_url</span> <span class="o">=</span> <span class="s1">&#39;download link you saved&#39;</span><span class="p">,</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tag1&#39;</span><span class="p">,</span> <span class="s1">&#39;tag2&#39;</span><span class="p">],</span>
    <span class="n">classifiers</span> <span class="o">=</span> <span class="p">[],</span>
<span class="p">)</span></code></pre></figure>

<p>Open the <em>setup.cfg</em> file and add following skeleton to it</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="p">[</span><span class="n">metadata</span><span class="p">]</span>
<span class="n">description</span><span class="o">-</span><span class="nb">file</span> <span class="o">=</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span></code></pre></figure>

<p>Now push everything to github.</p>

<h2 id="6-publish-the-package">6: Publish the package</h2>
<p>Execute following commands</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>python setup.py register -r pypitest</code></pre></figure>

<p>This command will try to register your package on PyPI test server. This makesures that everything you have setup is correct.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>python setup.py sdist upload -r pypitest</code></pre></figure>

<p>This command will upload your package on test repository and now you should see your package on <a href="https://testpypi.python.org/pypi">PyPI Test</a></p>

<p>Now you are ready to publish your package on PyPI Live Server. Execute following commands</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>python setup.py register -r pypi</code></pre></figure>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>python setup.py sdist upload -r pypi</code></pre></figure>

<p><strong>Congratulations! You just published your python package on PyPI</strong></p>

<h2 id="references">References</h2>
<ol>
  <li><a href="http://wiki.python.org/moin/CheeseShopTutorial#Submitting_Packages_to_the_Package_Index">Official Documentation</a></li>
</ol>

        </div>
    </article>
</div>

<div class="ui hidden section divider"></div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9220578038638789"
     data-ad-slot="2902722754"
     data-ad-format="auto"></ins>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="ui hidden section divider"></div>



    <div class="ui basic segment" style="background: #FFF">
    <div id="disqus_thread"></div>
</div>

<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "https://arpitbhayani.me/techie/python-package.html";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "/techie/python-package.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//arpitbbhayani.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


